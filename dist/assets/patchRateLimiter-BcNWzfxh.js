class i{capacity;tokens;refillIntervalMs;lastRefill;constructor(t=3,s=1500){this.capacity=t,this.tokens=t,this.refillIntervalMs=s,this.lastRefill=Date.now()}refill(){const t=Date.now(),s=t-this.lastRefill;if(s<=0)return;const e=Math.floor(s/this.refillIntervalMs);e>0&&(this.tokens=Math.min(this.capacity,this.tokens+e),this.lastRefill=t)}consumeToken(){return this.refill(),this.tokens>0?(this.tokens-=1,!0):!1}resetForTests(){this.tokens=this.capacity,this.lastRefill=Date.now()}}const l=new i;function o(){return l.consumeToken()}export{o as consumePatchToken};
//# sourceMappingURL=patchRateLimiter-BcNWzfxh.js.map
